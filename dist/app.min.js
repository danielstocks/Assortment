(function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,s=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if("object"==typeof e){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),s="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),-1!==r&&s[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if("object"===n)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,s,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=s,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this);
function randomArray(e){return e=e||parseInt(document.getElementById("num-items").value)||256,shuffle(range(e))}
function range(r){for(var n=[],u=1;r+1>u;u++)n.push(u);return n}
function shuffle(r){for(var a=r.length-1;a>0;a--){var f=Math.floor(Math.random()*(a+1)),n=r[a];r[a]=r[f],r[f]=n}return r}
!function(n){function o(n){var o,t,u,f=n.length;for(o=0;f>o;o++)for(t=0,u=f-o;u>t;t++)n[t]>n[t+1]&&r(n,t,t+1);return n}function r(n,o,r){var t=n[o];n[o]=n[r],n[r]=t,swaps.push([n.slice(0),r,o])}n.bubbleSort=o}(window);
function insertionSort(s){var r,n,e,i=s.length;for(n=0;i>n;n++){for(r=s[n],e=n-1;e>-1&&s[e]>r;e--)s[e+1]=s[e],swaps.push([s.slice(0),r,s[e]]);s[e+1]=r}return swaps.push([s.slice(0),r,s[e]]),s}
!function(n){function t(n,t){for(var e=[],c=0,l=0;c<n.length&&l<t.length;)e.push(n[c]<t[l]?n[c++]:t[l++]);return e.concat(n.slice(c)).concat(t.slice(l))}function e(n){if(n.length<2)return n;var c=Math.floor(n.length/2),l=n.slice(0,c),r=n.slice(c),i=t(e(l),e(r));return i.unshift(0,n.length),n.splice.apply(n,i),n}n.mergeSort=e}(window);
!function(n){function r(n,r,o){var t=n[r];n[r]=n[o],n[o]=t,swaps.push([n.slice(0),o,r])}function o(n,o,t){for(var f=n[Math.floor((t+o)/2)],u=o,e=t;e>=u;){for(;n[u]<f;)u++;for(;n[e]>f;)e--;e>=u&&(r(n,u,e),u++,e--)}return u}function t(n,r,f){var u;return n.length>1&&(r="number"!=typeof r?0:r,f="number"!=typeof f?n.length-1:f,u=o(n,r,f),u-1>r&&t(n,r,u-1),f>u&&t(n,u,f)),n}n.quickSort=t}(window);
!function(n){function s(n){var s,r=n.length;for(i=0;r>i;i++){for(s=i,j=i+1;r>j;j++)n[j]<n[s]&&(s=j,swaps.push([n.slice(0),j]));i!=s&&o(n,i,s)}return n}function o(i,n,s){var o=i[n];i[n]=i[s],i[s]=o,swaps.push([i.slice(0),s,n])}n.selectionSort=s}(window);
!function(t){function e(){chart.fillScreen(),chart.draw(0,c),"about"==a&&(document.body.classList.add("about"),crazyMode.start())}var a=window.location.hash.replace("#","")||"quick",o=window[a+"Sort"],r=document.getElementById("top"),n=document.getElementById("num-items"),i=document.getElementById("nav-"+a);i.classList.add("active"),n.value=i.dataset.q,NodeList.prototype.forEach=Array.prototype.forEach;var c=randomArray();document.querySelector("#nom-nom").onclick=function(t){t.preventDefault(),t.stopPropagation(),document.body.classList.toggle("nav")},r.onclick=function(e){if("github"!=e.target.id&&"A"==e.target.nodeName){if(state.trigger("animation-stop"),r.querySelectorAll("a").forEach(function(t){t.classList.remove("active")}),e.target.classList.add("active"),n.value=e.target.dataset.q,"nav-about"==e.target.id)return document.body.classList.add("about"),void crazyMode.start();document.body.classList.remove("about"),crazyMode.stop(),t.sort=window[e.target.hash.replace("#","")+"Sort"],t.currentList=randomArray(),state.trigger("new-list"),chart.draw()}},window.addEventListener("blur",function(){state.trigger("animation-pause")}),t.init=e,t.state=new EventEmitter,t.swaps=[],t.currentList=c,t.sort=o}(window);
!function(e){var t={},i=document.getElementById("chart"),n=i.getContext("2d");n.imageSmoothingEnabled=!1,t.draw=function(e){var t=currentList,h=t.length,l=i.width/h,o=i.height/h;n.clearRect(0,0,i.width,i.height),t.forEach(function(t,h){n.fillStyle="#ccc",swaps[e]&&(h==swaps[e][1]&&(n.fillStyle="green"),h==swaps[e][2]&&(n.fillStyle="maroon")),n.fillRect(h*l,i.height,l-1,-t*o)})},t.fillScreen=function(){w=i.parentNode.offsetWidth,h=i.parentNode.offsetHeight,i.width=w,i.height=h-44},window.onresize=function(){t.fillScreen(),t.draw()},e.chart=t}(window);
!function(n){function t(n,t){var e=o.createOscillator();return e.type=n,e.connect("left"==t?r:s),e.start(0),e.frequency.value=0,e}window.AudioContext=window.AudioContext||window.webkitAudioContext;var e=150,i=500,o=new AudioContext,a={},u=o.createPanner();u.setPosition(10,5,0);var c=o.createPanner();c.setPosition(-10,-5,0);var r=o.createGain(),s=o.createGain();r.connect(u),r.gain.value=0,s.connect(c),s.gain.value=0,u.connect(o.destination),c.connect(o.destination),a.draw=function(n){var o=(i-e)/currentList.length,a=swaps[n][1]*o+e,u=swaps[n][2]*o+e;if(isFinite(a)){var c=t(1,"left");c.frequency.value=a}if(isFinite(u)){var r=t(2,"right");r.frequency.value=u}!function(n,t){window.setTimeout(function(){n&&(n.stop(0),n.disconnect()),t&&(t.stop(0),t.disconnect())},50)}(c,r)},a.mute=function(){r.gain.value=0,s.gain.value=0},a.unmute=function(){r.gain.value=.2,s.gain.value=.2},state.on("sound-mute",a.mute),state.on("sound-unmute",a.unmute),n.sound=a}(window);
!function(n){function r(){currentList=randomArray(100),chart.fillScreen(),chart.draw(),a=window.requestAnimationFrame(r)}var a,o=!1;crazyMode={},crazyMode.start=function(){o||r(),o=!0},crazyMode.stop=function(){window.cancelAnimationFrame(a),o=!1},n.crazyMode=crazyMode}(window);
!function(){var t={randomize:document.getElementById("randomize"),play:document.getElementById("play"),mute:document.getElementById("mute"),items:document.getElementById("num-items")};t.mute.onclick=function(t){t.preventDefault(),state.trigger("mute"==this.innerHTML.trim()?"sound-mute":"sound-unmute")},t.items.onchange=function(){state.trigger("animation-stop"),currentList=randomArray(),state.trigger("new-list"),chart.draw()},t.randomize.onclick=function(t){t.preventDefault(),state.trigger("animation-stop"),currentList=randomArray(),state.trigger("new-list"),chart.draw()},sorted=!1,t.play.onclick=function(t){return t.preventDefault(),"pause"==this.innerHTML.trim()?state.trigger("animation-pause"):(sorted||(swaps=[],sort(currentList),sorted=!0),void state.trigger("animation-play",[swaps]))},state.on("new-list",function(){sorted=!1}),state.on("animation-end",function(){t.play.innerHTML="replay"}),state.on("animation-stop",function(){t.play.innerHTML="play"}),state.on("animation-pause",function(){t.play.innerHTML="play"}),state.on("animation-play",function(){t.play.innerHTML="pause"}),state.on("sound-mute",function(){t.mute.innerHTML="unmute"}),state.on("sound-unmute",function(){t.mute.innerHTML="mute"})}(window);
!function(){function n(){i=0}var t,a,e,o={},i=0,u=60,s=Date.now(),r=1e3/u;document.getElementById("fps").onchange=function(){u=parseInt(this.value),r=1e3/u},o.start=function(o){sound.unmute(),function u(){if(t=window.requestAnimationFrame(u),a=Date.now(),e=a-s,e>r){if(s=a-e%r,!(i<o.length))return chart.draw(i),sound.mute(),state.trigger("animation-stop"),state.trigger("animation-end"),void n();currentList=o[i][0],chart.draw(i),sound.draw(i),i++}}()},o.pause=function(){window.cancelAnimationFrame(t),sound.mute()},o.stop=function(){sound.mute(),window.cancelAnimationFrame(t),t=null,i=0},state.on("animation-pause",o.pause),state.on("animation-play",o.start),state.on("animation-stop",o.stop)}(window);