(function(){
  "use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(...args) {return this[e](...args);};}
  var r=e.prototype;
  var i=this;
  var s=i.EventEmitter;
  r.getListeners=function(e){
    var t;
    var n;
    var r=this._getEvents();
    if("object"==typeof e){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t
  },r.flattenListeners=e => {
    var t;
    var n=[];
    for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n
  },r.getListenersAsObject=function(e){
    var t;
    var n=this.getListeners(e);
    return n instanceof Array&&(t={},t[e]=n),t||n
  },r.addListener=function(e,n){
    var r;
    var i=this.getListenersAsObject(e);
    var s="object"==typeof n;
    for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(s?n:{listener:n,once:!1});return this
  },r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){
    var r;
    var i;
    var s=this.getListenersAsObject(e);
    for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),-1!==r&&s[i].splice(r,1));return this
  },r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){
    var r;
    var i;
    var s=e?this.removeListener:this.addListener;
    var o=e?this.removeListeners:this.addListeners;
    if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this
  },r.removeEvent=function(e){
    var t;
    var n=typeof e;
    var r=this._getEvents();
    if("string"===n)delete r[e];else if("object"===n)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this
  },r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){
    var n;
    var r;
    var i;
    var s;
    var o=this.getListenersAsObject(e);
    for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this
  },r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=() => (i.EventEmitter=s, e),"function"==typeof define&&define.amd?define(() => e):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e
}).call(this);
function randomArray(e){return e=e||parseInt(document.getElementById("num-items").value)||256,shuffle(range(e))}
function range(r){for(var n=[],u=1;r+1>u;u++)n.push(u);return n}
function shuffle(r){for(var a=r.length-1;a>0;a--){
  var f=Math.floor(Math.random()*(a+1));
  var n=r[a];
  r[a]=r[f],r[f]=n
}return r}
!(n => {function o(n){
  var o;
  var t;
  var u;
  var f=n.length;
  for(o=0;f>o;o++)for(t=0,u=f-o;u>t;t++)n[t]>n[t+1]&&r(n,t,t+1);return n
}function r(n,o,r){var t=n[o];n[o]=n[r],n[r]=t,swaps.push([n.slice(0),r,o])}n.bubbleSort=o})(window);
function insertionSort(s){
  var r;
  var n;
  var e;
  var i=s.length;
  for(n=0;i>n;n++){for(r=s[n],e=n-1;e>-1&&s[e]>r;e--)s[e+1]=s[e],swaps.push([s.slice(0),r,s[e]]);s[e+1]=r}return swaps.push([s.slice(0),r,s[e]]),s
}
!(n => {function t(n,t){for(var e=[],c=0,l=0;c<n.length&&l<t.length;)n[c]<t[l]?e.push(n[c++]):e.push(t[l++]);return e.concat(n.slice(c)).concat(t.slice(l))}function e(n){
  if(n.length<2)return n;
  var c=Math.floor(n.length/2);
  var l=n.slice(0,c);
  var r=n.slice(c);
  var i=t(e(l),e(r));
  return i.unshift(0,n.length),n.splice(...i),n;
}n.mergeSort=e})(window);
!(n => {function r(n,r,o){var t=n[r];n[r]=n[o],n[o]=t,swaps.push([n.slice(0),o,r])}function o(n,o,t){for(var f=n[Math.floor((t+o)/2)],u=o,e=t;e>=u;){for(;n[u]<f;)u++;for(;n[e]>f;)e--;e>=u&&(r(n,u,e),u++,e--)}return u}function t(n,r,f){var u;return n.length>1&&(r="number"!=typeof r?0:r,f="number"!=typeof f?n.length-1:f,u=o(n,r,f),u-1>r&&t(n,r,u-1),f>u&&t(n,u,f)),n}n.quickSort=t})(window);
!(n => {function s(n){
  var s;
  var r=n.length;
  for(i=0;i<r;i++){for(s=i,j=i+1;j<r;j++)n[j]<n[s]&&(s=j,swaps.push([n.slice(0),j]));i!=s&&o(n,i,s)}return n
}function o(i,n,s){var o=i[n];i[n]=i[s],i[s]=o,swaps.push([i.slice(0),s,n])}n.selectionSort=s})(window);
!(t => {
  function e(){chart.fillScreen(),chart.draw(0,c),"about"==a&&(document.body.classList.add("about"),crazyMode.start())}
  var a=window.location.hash.replace("#","")||"quick";
  var o=window[a+"Sort"];
  var r=document.getElementById("top");
  var n=document.getElementById("num-items");
  var i=document.getElementById("nav-"+a);
  i.classList.add("active"),n.value=i.dataset.q,NodeList.prototype.forEach=Array.prototype.forEach;var c=randomArray();document.querySelector("#nom-nom").onclick=t => {t.preventDefault(),t.stopPropagation(),document.body.classList.toggle("nav")},r.onclick=e => {if("github"!=e.target.id&&"A"==e.target.nodeName){if(state.trigger("animation-stop"),r.querySelectorAll("a").forEach(t => {t.classList.remove("active")}),e.target.classList.add("active"),n.value=e.target.dataset.q,"nav-about"==e.target.id)return document.body.classList.add("about"),void crazyMode.start();document.body.classList.remove("about"),crazyMode.stop(),t.sort=window[e.target.hash.replace("#","")+"Sort"],t.currentList=randomArray(),state.trigger("new-list"),chart.draw()}},window.addEventListener("blur",() => {state.trigger("animation-pause")}),t.init=e,t.state=new EventEmitter,t.swaps=[],t.currentList=c,t.sort=o
})(window);
!(e => {
  var t={};
  var i=document.getElementById("chart");
  var n=i.getContext("2d");
  n.imageSmoothingEnabled=!1,t.draw=e => {
    var t=currentList;
    var h=t.length;
    var l=i.width/h;
    var o=i.height/h;
    n.clearRect(0,0,i.width,i.height),t.forEach((t, h) => {n.fillStyle="#ccc",swaps[e]&&(h==swaps[e][1]&&(n.fillStyle="green"),h==swaps[e][2]&&(n.fillStyle="maroon")),n.fillRect(h*l,i.height,l-1,-t*o)})
  },t.fillScreen=() => {w=i.parentNode.offsetWidth,h=i.parentNode.offsetHeight,i.width=w,i.height=h-44},window.onresize=() => {t.fillScreen(),t.draw()},e.chart=t
})(window);
!(n => {
  function t(n,t,e){
    var i=u.createGain();
    var o=u.createPanner();
    var s=u.createOscillator();
    return e?o.setPosition(10,5,0):o.setPosition(-10,-5,0),i.connect(o),o.connect(u.destination),i.gain.value=0,s.type=t,s.frequency.value=n,s.connect(i),s.start(u.currentTime),i.gain.value=a,s.stop(u.currentTime+.5),setTimeout(() => {i.gain.value=0},300),s;
  }window.AudioContext=window.AudioContext||window.webkitAudioContext;
  var e={};
  var i=175;
  var o=600;
  var u=new AudioContext;
  var a=.5;
  e.draw=n => {
    var e=(o-i)/currentList.length;
    var u=swaps[n][1]*e+i;
    var a=swaps[n][2]*e+i;
    isFinite(u)&&t(u,"triangle",!0),isFinite(a)&&t(a,"square")
  },e.mute=() => {a=0},e.unmute=() => {a=.5},state.on("sound-mute",e.mute),state.on("sound-unmute",e.unmute),n.sound=e
})(window);
!(n => {
  function r(){currentList=randomArray(100),chart.fillScreen(),chart.draw(),a=window.requestAnimationFrame(r)}
  var a;
  var o=!1;
  crazyMode={},crazyMode.start=() => {o||r(),o=!0},crazyMode.stop=() => {window.cancelAnimationFrame(a),o=!1},n.crazyMode=crazyMode
})(window);
!(t => {var n={randomize:document.getElementById("randomize"),play:document.getElementById("play"),mute:document.getElementById("mute"),items:document.getElementById("num-items")};n.mute.onclick=function(t){t.preventDefault(),"mute"==this.innerHTML.trim()?state.trigger("sound-mute"):state.trigger("sound-unmute")},n.items.onchange=() => {state.trigger("animation-stop"),currentList=randomArray(),state.trigger("new-list"),chart.draw()},n.randomize.onclick=t => {t.preventDefault(),state.trigger("animation-stop"),currentList=randomArray(),state.trigger("new-list"),chart.draw()},sorted=!1,n.play.onclick=function(t){return t.preventDefault(),"pause"==this.innerHTML.trim()?state.trigger("animation-pause"):(sorted||(swaps=[],sort(currentList),sorted=!0),void state.trigger("animation-play",[swaps]))},state.on("new-list",() => {sorted=!1}),state.on("animation-end",() => {n.play.innerHTML="replay"}),state.on("animation-stop",() => {n.play.innerHTML="play"}),state.on("animation-pause",() => {n.play.innerHTML="play"}),state.on("animation-play",() => {n.play.innerHTML="pause"}),state.on("sound-mute",() => {n.mute.innerHTML="unmute"}),state.on("sound-unmute",() => {n.mute.innerHTML="mute"})})(window);
!(n => {
  function t(){u=0}
  var a;
  var e;
  var o;
  var i={};
  var u=0;
  var s=60;
  var r=Date.now();
  var m=1e3/s;
  document.getElementById("fps").onchange=function(){s=parseInt(this.value),m=1e3/s},i.start=n => {sound.unmute(),function i(s){if(a=window.requestAnimationFrame(i),e=Date.now(),o=e-r,o>m){if(r=e-o%m,!(u<n.length))return chart.draw(u),sound.mute(),state.trigger("animation-stop"),state.trigger("animation-end"),void t();currentList=n[u][0],chart.draw(u),sound.draw(u),u++}}()},i.pause=() => {window.cancelAnimationFrame(a),sound.mute()},i.stop=() => {sound.mute(),window.cancelAnimationFrame(a),a=null,u=0},state.on("animation-pause",i.pause),state.on("animation-play",i.start),state.on("animation-stop",i.stop)
})(window);